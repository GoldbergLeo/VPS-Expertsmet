# Мобильная адаптация для городских страниц

Этот набор CSS файлов обеспечивает полную мобильную адаптацию для всех городских страниц сайта EXPERTsmet.

## Структура файлов

### 1. `mobile-adaptation.css` - Основная мобильная адаптация
- **Назначение**: Базовые медиа-запросы для всех размеров экранов
- **Покрытие**: 768px, 480px, 360px и меньше
- **Функции**:
  - Адаптивные сетки и контейнеры
  - Мобильные размеры шрифтов
  - Адаптивные отступы и размеры
  - Улучшения для тач-устройств

### 2. `mobile-typography.css` - Улучшенная типографика
- **Назначение**: Оптимизация шрифтов для мобильных устройств
- **Функции**:
  - Адаптивные размеры шрифтов с `clamp()`
  - Улучшенная читаемость
  - Поддержка различных плотностей пикселей
  - Доступность для скринридеров

### 3. `mobile-enhancements.css` - Дополнительные улучшения
- **Назначение**: Продвинутые функции для мобильных устройств
- **Функции**:
  - Оптимизация производительности
  - Улучшения для тач-устройств
  - Поддержка различных браузеров
  - Режимы экономии энергии

### 4. `faq.css` - FAQ секция с мобильной адаптацией
- **Назначение**: Стили для FAQ секции
- **Функции**:
  - Адаптивные аккордеоны
  - Улучшения для мобильных
  - Поддержка доступности

### 5. `overflow-fix.css` - Исправление горизонтального скролла
- **Назначение**: Решение проблемы с горизонтальным скроллом на мобильных
- **Функции**:
  - Принудительное ограничение ширины элементов
  - Предотвращение переполнения контейнеров
  - Исправление проблем с сетками и карточками

## Подключение файлов

Все файлы автоматически подключаются в `city_base.html`:

```html
{% block extra_css %}
<!-- CSS для городских секций -->
<link rel="stylesheet" href="{% static 'main/css/cities/city-sections.css' %}">
<!-- CSS для FAQ секции -->
<link rel="stylesheet" href="{% static 'main/css/cities/faq.css' %}">
<!-- CSS для базовых стилей exs- классов -->
<link rel="stylesheet" href="{% static 'main/css/cities/default.css' %}">
<!-- CSS для мобильной адаптации городов -->
<link rel="stylesheet" href="{% static 'main/css/cities/mobile-adaptation.css' %}">
<!-- CSS для улучшенной типографики на мобильных -->
<link rel="stylesheet" href="{% static 'main/css/cities/mobile-typography.css' %}">
<!-- CSS для дополнительных улучшений мобильных устройств -->
<link rel="stylesheet" href="{% static 'main/css/cities/mobile-enhancements.css' %}">
<!-- CSS для исправления горизонтального скролла -->
<link rel="stylesheet" href="{% static 'main/css/cities/overflow-fix.css' %}">
{% endblock %}
```

## Поддерживаемые устройства

### Планшеты (≤768px)
- Адаптивные сетки (1 колонка)
- Уменьшенные отступы
- Оптимизированные размеры шрифтов

### Мобильные (≤480px)
- Компактные макеты
- Минимальные отступы
- Мелкие шрифты для экономии места

### Маленькие экраны (≤360px)
- Сверхкомпактные макеты
- Минимальные размеры элементов
- Оптимизация для очень маленьких экранов

## Особенности

### Адаптивные шрифты
Используется функция `clamp()` для плавного масштабирования:

```css
:root {
  --fs-h1: clamp(28px, 8vw, 48px);
  --fs-h2: clamp(24px, 6vw, 36px);
  --fs-h3: clamp(20px, 5vw, 28px);
}
```

### Тач-оптимизация
- Минимальные размеры элементов: 44x44px
- Улучшенные тач-события
- Отключение hover эффектов на тач-устройствах

### Предотвращение горизонтального скролла
- Принудительное ограничение ширины всех элементов
- Использование `overflow-x: hidden` для контейнеров
- Правила `box-sizing: border-box` для корректных размеров
- Адаптивные отступы для предотвращения переполнения

### Производительность
- Оптимизация для мобильных GPU
- Улучшенный скролл
- Ленивая загрузка изображений

### Доступность
- Поддержка скринридеров
- Улучшенная навигация с клавиатуры
- Высокий контраст

## Медиа-запросы

### Основные брейкпоинты
```css
@media (max-width: 768px) { /* Планшеты */ }
@media (max-width: 480px) { /* Мобильные */ }
@media (max-width: 360px) { /* Маленькие экраны */ }
```

### Специальные запросы
```css
@media (orientation: landscape) { /* Ландшафтная ориентация */ }
@media (hover: none) { /* Тач-устройства */ }
@media (prefers-reduced-motion: reduce) { /* Экономия энергии */ }
@media (prefers-color-scheme: dark) { /* Темная тема */ }
```

## Переменные CSS

### Размеры шрифтов
```css
:root {
  --fs-h1-mobile: clamp(28px, 8vw, 42px);
  --fs-h2-mobile: clamp(24px, 6vw, 32px);
  --fs-lead-mobile: clamp(16px, 4vw, 18px);
}
```

### Отступы
```css
:root {
  --section-padding-mobile: 60px 0;
  --container-padding-mobile: 20px;
  --grid-gap-mobile: 24px;
}
```

## Тестирование

### Рекомендуемые инструменты
- Chrome DevTools Device Toolbar
- Firefox Responsive Design Mode
- Safari Web Inspector
- BrowserStack для реальных устройств

### Ключевые тесты
1. **Размеры экранов**: 320px, 375px, 414px, 768px, 1024px
2. **Ориентации**: Портретная и ландшафтная
3. **Плотность пикселей**: 1x, 2x, 3x
4. **Браузеры**: Chrome, Safari, Firefox, Edge

## Производительность

### Оптимизации
- Минимальные анимации на мобильных
- Оптимизированные переходы
- Улучшенный скролл
- Ленивая загрузка

### Метрики
- First Contentful Paint (FCP) < 1.5s
- Largest Contentful Paint (LCP) < 2.5s
- Cumulative Layout Shift (CLS) < 0.1

## Поддержка браузеров

### Современные браузеры
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

### Fallback для старых браузеров
- Базовые медиа-запросы
- Простые анимации
- Стандартные CSS свойства

## Обновления

### Версия 1.0
- Базовая мобильная адаптация
- Адаптивные шрифты
- Тач-оптимизация

### Планы развития
- CSS Grid для сложных макетов
- Container Queries
- CSS Houdini
- Web Components

## Контакты

При возникновении вопросов или предложений по улучшению мобильной адаптации обращайтесь к команде разработки.
